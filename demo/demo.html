<!doctype html>
<html>
<head>
<title>Fractal Canvas Benchmark</title>
<script src="../color/color.js"></script>
<script src="../pythagoras.js"></script>
<script src="../htree.js"></script>
<script src="../koch.js"></script>
</head>
<body>
<h1>Fractal Demo</h1>
<p>This page demonstrates three typical fractal shapes drawn on a HTML5 canvas
using Javascript. The fractals are animated and follow the mouse, which creates
quite a nice effect.</p>

<h2>H-Tree</h2>

<canvas id="HTree" height="400" width="600"></canvas>

<h2>Koch snowflake</h2>

<canvas id="Koch" height="400" width="600"></canvas>

<h2>Pythagoras tree</h2>

<canvas id="Pyth" height="400" width="600"></canvas>

<script type="text/javascript">
	function getMousePos(canvas, evt) {
		var rect = canvas.getBoundingClientRect();
		return {
			x : evt.clientX - rect.left,
			y : evt.clientY - rect.top
		};
	}

	var htree_canvas = document.getElementById("HTree");
	var htree = new Fractal.HTree(htree_canvas, 14, {x : 0,y : 0},
								  "black", "rgba(91,0,144,0.3)", true);
	htree_canvas.addEventListener('mousemove', function(evt) {
		htree.update(getMousePos(htree_canvas, evt));
	}, false);

	var koch_canvas = document.getElementById("Koch");
	var koch = new Fractal.Koch(koch_canvas, 5, {x : 0, y : 0}, "#477ff1");
	koch_canvas.addEventListener('mousemove', function(evt) {
		koch.update(getMousePos(koch_canvas, evt));
	}, false);
	
	var pyth_canvas = document.getElementById("Pyth");
	var pyth = new Fractal.Pythagoras(pyth_canvas, 9, {x:0,y:0},
									  "#D4E576","#126845");
	pyth_canvas.addEventListener('mousemove', function(evt) {
		pyth.update(getMousePos(pyth_canvas, evt));
	}, false);
</script>

</body>
</html>
